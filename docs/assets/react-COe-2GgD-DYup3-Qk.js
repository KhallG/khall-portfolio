import{N as S,_ as H,S as k}from"./index-B7JP-peH.js";import{_ as A,Z as y}from"./mixin-D3UDm--6-zaESpKYn.js";class N extends A(y){static shadowRootOptions={...y.shadowRootOptions};static getTemplateHTML=s=>{const{src:n,...o}=s;return y.getTemplateHTML(o)};#e;attributeChangedCallback(s,n,o){s!=="src"&&super.attributeChangedCallback(s,n,o),s==="src"&&n!=o&&this.load()}async load(){if(this.#e){this.api.attachSource(this.src);return}this.#e=!0;const s=await S(()=>H(()=>import("./dash.all.min-c_ldjLP4-CYblWWcS.js"),[]),[]);this.api=s.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(s.MediaPlayer.events.STREAM_INITIALIZED,()=>{const n=this.api.getRepresentationsByType("video");let o=this.videoTracks.getTrackById("main");o||(o=this.addVideoTrack("main"),o.id="main",o.selected=!0),n.forEach(a=>{const m=a.bandwidth??a.bitrate??(Number.isFinite(a.bitrateInKbit)?a.bitrateInKbit*1e3:void 0),f=o.addRendition(a.id,a.width,a.height,a.mimeType??a.codec,m);f.id=a.id}),this.videoRenditions.addEventListener("change",()=>{const a=this.videoRenditions[this.videoRenditions.selectedIndex];a?.id?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById("video",a.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})})})}}globalThis.customElements&&!globalThis.customElements.get("dash-video")&&globalThis.customElements.define("dash-video",N);var O=N,B=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),P={className:"class",htmlFor:"for"};function _(e){return e.toLowerCase()}function M(e){if(typeof e=="boolean")return e?"":void 0;if(typeof e!="function"&&!(typeof e=="object"&&e!==null))return e}function W({react:e,tagName:s,elementClass:n,events:o,displayName:a,defaultProps:m,toAttributeName:f=_,toAttributeValue:C=M}){const g=Number.parseInt(e.version)>=19,T=e.forwardRef((w,p)=>{var E,L;const c=e.useRef(null),v=e.useRef(new Map),b={},R={},l={},h={};for(const[t,i]of Object.entries(w)){if(B.has(t)){l[t]=i;continue}const r=f(P[t]??t);if(n.prototype&&t in n.prototype&&!(t in(((E=globalThis.HTMLElement)==null?void 0:E.prototype)??{}))&&!((L=n.observedAttributes)!=null&&L.some(u=>u===r))){h[t]=i;continue}if(t.startsWith("on")){b[t]=i;continue}const d=C(i);if(r&&d!=null&&(R[r]=String(d),g||(l[r]=d)),r&&g){const u=M(i);d!==u?l[r]=d:l[r]=i}}if(typeof window<"u"){for(const t in b){const i=b[t],r=t.endsWith("Capture"),d=(o?.[t]??t.slice(2).toLowerCase()).slice(0,r?-7:void 0);e.useLayoutEffect(()=>{const u=c?.current;if(!(!u||typeof i!="function"))return u.addEventListener(d,i,r),()=>{u.removeEventListener(d,i,r)}},[c?.current,i])}e.useLayoutEffect(()=>{if(c.current===null)return;const t=new Map;for(const i in h)I(c.current,i,h[i]),v.current.delete(i),t.set(i,h[i]);for(const[i,r]of v.current)I(c.current,i,void 0);v.current=t})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:t,delegatesFocus:i}=n.shadowRootOptions,r=e.createElement("template",{shadowrootmode:t,shadowrootdelegatesfocus:i,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(R,w)}});l.children=[r,l.children]}return e.createElement(s,{...m,...l,ref:e.useCallback(t=>{c.current=t,typeof p=="function"?p(t):p!==null&&(p.current=t)},[p])})});return T.displayName=a??n.name,T}function I(e,s,n){var o;e[s]=n,n==null&&s in(((o=globalThis.HTMLElement)==null?void 0:o.prototype)??{})&&e.removeAttribute(s)}var V=W({react:k,tagName:"dash-video",elementClass:O,toAttributeName(e){return e==="muted"?"":e==="defaultMuted"?"muted":_(e)}});export{V as default};
