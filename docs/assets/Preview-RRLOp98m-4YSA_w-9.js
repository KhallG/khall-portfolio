import{c as g,S as a}from"./index-B7JP-peH.js";const c="64px",d={},I=({src:l,light:r,oEmbedUrl:n,onClickPreview:p,playIcon:w,previewTabIndex:f,previewAriaLabel:u})=>{const[h,t]=g.useState(null);g.useEffect(()=>{!l||!r||!n||v({src:l,light:r,oEmbedUrl:n})},[l,r,n]);const v=async({src:e,light:s,oEmbedUrl:k})=>{if(a.isValidElement(s))return;if(typeof s=="string"){t(s);return}if(d[e]){t(d[e]);return}t(null);const m=await(await fetch(k.replace("{url}",e))).json();if(m.thumbnail_url){const y=m.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");t(y),d[e]=y}},x=e=>{(e.key==="Enter"||e.key===" ")&&p?.(e)},E=e=>{p?.(e)},i=a.isValidElement(r),b={display:"flex",alignItems:"center",justifyContent:"center"},o={preview:{width:"100%",height:"100%",backgroundImage:h&&!i?`url(${h})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...b},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:c,width:c,height:c,position:i?"absolute":void 0,...b},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},_=a.createElement("div",{style:o.shadow,className:"react-player__shadow"},a.createElement("div",{style:o.playIcon,className:"react-player__play-icon"}));return a.createElement("div",{style:o.preview,className:"react-player__preview",tabIndex:f,onClick:E,onKeyPress:x,...u?{"aria-label":u}:{}},i?r:null,w||_)};var S=I;export{S as default};
