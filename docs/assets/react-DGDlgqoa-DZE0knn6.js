import{S as I}from"./index-B7JP-peH.js";const W=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],T=globalThis.document?.createElement("template");T&&(T.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video,
      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);const q=(e,{tag:s,is:i})=>{const u=globalThis.document?.createElement(s,{is:i}),c=u?H(u):[];return class w extends e{static Events=W;static template=T;static skipAttributes=[];static#i;static get observedAttributes(){return w.#l(),[...u?.constructor?.observedAttributes??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}static#l(){if(this.#i)return;this.#i=!0;const t=new Set(this.observedAttributes);t.delete("muted");for(let o of c)if(!(o in this.prototype))if(typeof u[o]=="function")this.prototype[o]=function(...r){this.#t();const a=()=>this.call?this.call(o,...r):this.nativeEl[o].apply(this.nativeEl,r);return this.loadComplete&&!this.isLoaded?this.loadComplete.then(a):a()};else{let r={get(){this.#t();let a=o.toLowerCase();if(t.has(a)){const d=this.getAttribute(a);return d===null?!1:d===""?!0:d}return this.get?.(o)??this.nativeEl?.[o]??this.#s[o]}};o!==o.toUpperCase()&&(r.set=async function(a){this.#t();let d=o.toLowerCase();if(t.has(d)){a===!0||a===!1||a==null?this.toggleAttribute(d,!!a):this.setAttribute(d,a);return}if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.set){this.set(o,a);return}this.nativeEl[o]=a}),Object.defineProperty(this.prototype,o,r)}}#o;#a;#n=!1;#e=!1;#r;#s;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.load!==w.prototype.load&&(this.loadComplete=new N)}get loadComplete(){return this.#a}set loadComplete(t){this.#e=!1,this.#a=t,t?.then(()=>{this.#e=!0})}get isLoaded(){return this.#e}get nativeEl(){return this.#r??this.shadowRoot.querySelector(s)??this.querySelector(s)}set nativeEl(t){this.#r=t}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(t){this.toggleAttribute("muted",!!t)}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",`${t}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(t){this.setAttribute("preload",`${t}`)}async#t(){if(this.#o)return;this.#o=!0,this.#c(),this.#d();for(let r of c)this.#u(r);const t=new Map,o=this.shadowRoot.querySelector("slot:not([name])");o?.addEventListener("slotchange",()=>{const r=new Map(t);o.assignedElements().filter(a=>["track","source"].includes(a.localName)).forEach(async a=>{r.delete(a);let d=t.get(a);d||(d=a.cloneNode(),t.set(a,d)),this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.nativeEl.append?.(d)}),r.forEach(a=>a.remove())});for(let r of this.constructor.Events)this.shadowRoot.addEventListener?.(r,a=>{a.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(a.type,{detail:a.detail}))},!0)}#u(t){if(Object.prototype.hasOwnProperty.call(this,t)){const o=this[t];delete this[t],this[t]=o}}#c(){const t=document.createElement(s,{is:i});t.muted=this.hasAttribute("muted");for(let{name:o,value:r}of this.attributes)t.setAttribute(o,r);this.#s={};for(let o of H(t))this.#s[o]=t[o];t.removeAttribute("src"),t.load()}async#d(){if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,!this.nativeEl){const t=document.createElement(s,{is:i});t.part=s,this.shadowRoot.append(t)}this.nativeEl.muted=this.hasAttribute("muted")}attributeChangedCallback(t,o,r){this.#t(),t==="src"&&this.load!==w.prototype.load&&this.#h(),this.#p(t,o,r)}async#h(){this.#n&&(this.loadComplete=new N),this.#n=!0,await Promise.resolve(),await this.load(),this.loadComplete?.resolve(),await this.loadComplete}async#p(t,o,r){this.loadComplete&&!this.isLoaded&&await this.loadComplete,!["id","class",...this.constructor.skipAttributes].includes(t)&&(r===null?this.nativeEl.removeAttribute?.(t):this.nativeEl.setAttribute?.(t,r))}connectedCallback(){this.#t()}}};function H(e){let s=[];for(let i=Object.getPrototypeOf(e);i&&i!==HTMLElement.prototype;i=Object.getPrototypeOf(i))s.push(...Object.getOwnPropertyNames(i));return s}class N extends Promise{constructor(s=()=>{}){let i,u;super((c,p)=>{s(c,p),i=c,u=p}),this.resolve=i,this.reject=u}}const B=globalThis.document?q(HTMLElement,{tag:"video"}):class{};globalThis.document&&q(HTMLElement,{tag:"audio"});var O,R;const A=(O=globalThis.document)==null?void 0:O.createElement("template");A&&(A.innerHTML=`
  <div class="wistia_embed"></div>
  `);const k=(R=globalThis.document)==null?void 0:R.createElement("template");k&&(k.innerHTML=`
  <style>
    :host {
      display: inline-block;
      min-width: 300px;
      min-height: 150px;
      position: relative;
    }
    ::slotted(.wistia_embed) {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  </style>
  <slot></slot>
  `);class _ extends B{static template=k;static skipAttributes=["src"];get nativeEl(){var s;return((s=this.api)==null?void 0:s.elem())??this.querySelector("video")}async load(){var s;if((s=this.querySelector(".wistia_embed"))==null||s.remove(),!this.src)return;await new Promise(t=>setTimeout(t,50));const i=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/i,u=this.src.match(i)[1],c={autoPlay:this.autoplay,preload:this.preload??"metadata",playsinline:this.playsInline,endVideoBehavior:this.loop&&"loop",chromeless:!this.controls,playButton:this.controls,muted:this.defaultMuted};this.append(A.content.cloneNode(!0));const p=this.querySelector(".wistia_embed");p.id||(p.id=z(u)),p.classList.add(`wistia_async_${u}`),await F("https://fast.wistia.com/assets/external/E-v1.js","Wistia"),this.api=await new Promise(t=>{globalThis._wq.push({id:p.id,onReady:t,options:c})})}async attributeChangedCallback(s,i,u){if(s==="controls"){switch(await this.loadComplete,s){case"controls":this.api.bigPlayButtonEnabled(this.controls),this.controls?this.api.releaseChromeless():this.api.requestChromeless();break}return}super.attributeChangedCallback(s,i,u)}get duration(){var s;return(s=this.api)==null?void 0:s.duration()}play(){return this.api.play(),new Promise(s=>this.addEventListener("playing",s))}}const L={};async function F(e,s){return L[e]?L[e]:self[s]?self[s]:L[e]=new Promise((i,u)=>{const c=document.createElement("script");c.defer=!0,c.src=e,c.onload=()=>i(self[s]),c.onerror=u,document.head.append(c)})}let V=0;function z(e){const s=++V;return`${e}${s}`}globalThis.customElements&&!globalThis.customElements.get("wistia-video")&&globalThis.customElements.define("wistia-video",_);var U=_,D=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),G={className:"class",htmlFor:"for"};function $(e){return e.toLowerCase()}function j(e){if(typeof e=="boolean")return e?"":void 0;if(typeof e!="function"&&!(typeof e=="object"&&e!==null))return e}function J({react:e,tagName:s,elementClass:i,events:u,displayName:c,defaultProps:p,toAttributeName:t=$,toAttributeValue:o=j}){const r=Number.parseInt(e.version)>=19,a=e.forwardRef((d,g)=>{var M,P;const y=e.useRef(null),E=e.useRef(new Map),C={},S={},f={},v={};for(const[n,l]of Object.entries(d)){if(D.has(n)){f[n]=l;continue}const h=t(G[n]??n);if(i.prototype&&n in i.prototype&&!(n in(((M=globalThis.HTMLElement)==null?void 0:M.prototype)??{}))&&!((P=i.observedAttributes)!=null&&P.some(b=>b===h))){v[n]=l;continue}if(n.startsWith("on")){C[n]=l;continue}const m=o(l);if(h&&m!=null&&(S[h]=String(m),r||(f[h]=m)),h&&r){const b=j(l);m!==b?f[h]=m:f[h]=l}}if(typeof window<"u"){for(const n in C){const l=C[n],h=n.endsWith("Capture"),m=(u?.[n]??n.slice(2).toLowerCase()).slice(0,h?-7:void 0);e.useLayoutEffect(()=>{const b=y?.current;if(!(!b||typeof l!="function"))return b.addEventListener(m,l,h),()=>{b.removeEventListener(m,l,h)}},[y?.current,l])}e.useLayoutEffect(()=>{if(y.current===null)return;const n=new Map;for(const l in v)x(y.current,l,v[l]),E.current.delete(l),n.set(l,v[l]);for(const[l,h]of E.current)x(y.current,l,void 0);E.current=n})}if(typeof window>"u"&&i?.getTemplateHTML&&i?.shadowRootOptions){const{mode:n,delegatesFocus:l}=i.shadowRootOptions,h=e.createElement("template",{shadowrootmode:n,shadowrootdelegatesfocus:l,dangerouslySetInnerHTML:{__html:i.getTemplateHTML(S,d)}});f.children=[h,f.children]}return e.createElement(s,{...p,...f,ref:e.useCallback(n=>{y.current=n,typeof g=="function"?g(n):g!==null&&(g.current=n)},[g])})});return a.displayName=c??i.name,a}function x(e,s,i){var u;e[s]=i,i==null&&s in(((u=globalThis.HTMLElement)==null?void 0:u.prototype)??{})&&e.removeAttribute(s)}var K=J({react:I,tagName:"wistia-video",elementClass:U,toAttributeName(e){return e==="muted"?"":e==="defaultMuted"?"muted":$(e)}});export{K as default};
